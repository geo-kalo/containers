# Generated by iptables-save v1.8.10 (nf_tables) on Mon Sep  9 11:10:28 2024
*nat
:PREROUTING ACCEPT [41957:9779604]
:INPUT ACCEPT [29791:8797328]
:OUTPUT ACCEPT [9903:831852]
:POSTROUTING ACCEPT [0:0]
:DOCKER_OUTPUT - [0:0]
:DOCKER_POSTROUTING - [0:0]
-A PREROUTING -p tcp -m tcp --dport 2222 -j DNAT --to-destination 192.168.199.1:22
-A PREROUTING -p tcp -m tcp --dport 3000 -j DNAT --to-destination 192.168.199.1:3000
-A PREROUTING -p tcp -m tcp --dport 49888 -j DNAT --to-destination 192.168.199.7:49888
-A OUTPUT -d 127.0.0.11/32 -j DOCKER_OUTPUT
{%- for rule in rules -%}
{%- if rule.chain == 'nat' %}
-A PREROUTING -p {{ rule.protocol if rule.protocol else 'tcp' }} -m {{ rule.protocol if rule.protocol else 'tcp' }} --dport {{ rule.src_port }} -j {{ rule.action }} --to-destination {{ rule.dst_ip }}:{{ rule.dst_port }}
{%- endif %}
{%- endfor %}
-A POSTROUTING -d 127.0.0.11/32 -j DOCKER_POSTROUTING
-A POSTROUTING -o eth1 -j MASQUERADE
-A POSTROUTING -o eth0 -j MASQUERADE
-A DOCKER_OUTPUT -d 127.0.0.11/32 -p tcp -m tcp --dport 53 -j DNAT --to-destination 127.0.0.11:40939
-A DOCKER_OUTPUT -d 127.0.0.11/32 -p udp -m udp --dport 53 -j DNAT --to-destination 127.0.0.11:33793
-A DOCKER_POSTROUTING -s 127.0.0.11/32 -p tcp -m tcp --sport 40939 -j SNAT --to-source :53
-A DOCKER_POSTROUTING -s 127.0.0.11/32 -p udp -m udp --sport 33793 -j SNAT --to-source :53
COMMIT





